$(document).ready ->

  checkMyLocation()
  removeText()

removeText = () ->
  $('.textInput').focus ->
    $(@).val ""

checkMyLocation = () ->
  if $('#myLocation').length > 0
    options = { timeout: 5000} 
    navigator.geolocation.getCurrentPosition(success, error, options)

success = (pos) ->
  myLatLng = new google.maps.LatLng pos.coords.latitude, pos.coords.longitude
  mapOptions = 
    center: myLatLng
    zoom: 10
    mapTypeId: google.maps.MapTypeId.ROADMAP
  map = new google.maps.Map document.getElementById('myLocationsMap'), mapOptions

  marker = new google.maps.Marker 
    position: myLatLng
    map: map
    title: "Nearby stations"

  nearStations = gon.sortedDistances
  


error = (error) ->
  alert JSON.stringify error

  



